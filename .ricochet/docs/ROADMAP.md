# Дорожная карта проекта "Рикошет"

Этот документ описывает стратегический план развития платформы "Рикошет", от минимально жизнеспособного продукта (MVP) до полнофункциональной версии 1.0. Дорожная карта сфокусирована на итеративной поставке ценности для пользователей и последовательной проверке ключевых гипотез.

## Этап 1: MVP (Minimum Viable Product) - (Цель: 1-2 месяца) - ВЫПОЛНЕНО НА 75%

**Основная цель: Проверить базовые гипотезы оркестрации и жизнеспособность идеи монетизации ключей.**

На этом этапе мы создаем ядро системы с минимальным, но достаточным для проверки гипотез функционалом. Основные интерфейсы — CLI и MCP (для интеграции с редакторами кода).

### Ключевые фичи:

*   **Оркестратор (Ядро):** ✅
    *   Реализация обработки только **линейных цепочек** (например, `Анализатор -> Суммаризатор -> Интегратор`). ✅
    *   Базовый механизм **сегментации** текста для обработки больших документов. ✅
    *   Поддержка **чекпоинтов** для сохранения промежуточных результатов в файловой системе или MinIO. ✅
    *   Интеграция с базовой структурой задач из **Task Master** для представления моделей в цепочке. ✅

*   **Интеграция с моделями:** ✅
    *   Поддержка 2-3 провайдеров (OpenAI, Claude, DeepSeek). ✅
    *   Базовая система управления API-ключами на основе механизмов **Task Master**. ✅
    *   Простой механизм маршрутизации запросов между моделями. ✅

*   **CLI-клиент:** ✅
    *   Базовый набор команд для управления цепочками, чекпоинтами и API-ключами. ✅
    *   Поддержка мониторинга выполнения цепочек. ✅
    *   Адаптация команд из **Task Master CLI** для управления задачами/моделями. ✅
    *   Интерактивный режим для упрощения работы пользователей. ✅

*   **MCP-интеграция:** ⏳ (45%)
    *   Базовая интеграция с редакторами кода (Cursor, VS Code) через протокол MCP с использованием инфраструктуры **Task Master**. ✅
    *   Просмотр цепочек и мониторинг выполнения в редакторе кода. ✅
    *   Команды для управления моделями в редакторе кода. ✅
    *   Визуализация прогресса выполнения цепочек. ⏳
    *   Интерактивное конструирование цепочек. ⏳

*   **Монетизация (Proof of Concept):** ✅
    *   Простая модель совместного использования API-ключей. ✅
    *   Базовая система учета использования ключей. ✅
    *   Ручная система выплат владельцам ключей. ✅

*   **Система выбора моделей:** ⏳ (60%)
    *   Интерактивный выбор моделей для различных ролей. ✅
    *   Сохранение и загрузка настроек моделей. ✅
    *   Интеграция с системой задач. ✅
    *   Автоматический выбор моделей по типу задачи. ⏳
    *   Система приоритезации и фолбэка. ✅

*   **Безопасность и администрирование:** ⏳ (75%)
    *   Базовая аутентификация и авторизация. ✅
    *   Шифрование API-ключей и чувствительных данных. ✅
    *   Система квот и ограничений. ✅
    *   Расширенное логирование операций. ⏳
    *   Мониторинг использования ресурсов. ⏳

### Ожидаемые результаты:

1.  Функциональная MVP-версия с поддержкой обработки документов до 100k токенов. ✅
2.  Базовая интеграция с редакторами кода через MCP. ⏳ (45%)
3.  Первоначальная обратная связь от пользователей. ⏳
4.  Проверка ключевых гипотез и определение направлений для дальнейшего развития. ⏳

## Этап 2: Beta (3-4 месяца после MVP) - НЕ НАЧАТ

**Основная цель: Расширение функциональности и улучшение пользовательского опыта.**

На этом этапе мы расширяем функциональность оркестратора, улучшаем интеграцию с редакторами кода и совершенствуем систему совместного использования API-ключей.

### Ключевые фичи:

*   **Оркестратор (Расширенный):**
    *   Поддержка **параллельных цепочек** для одновременной обработки различных частей документа.
    *   Добавление **условных переходов** между моделями в цепочке.
    *   Улучшенные алгоритмы сегментации с поддержкой различных стратегий.
    *   Расширенная система шаблонов ролей и задач для моделей.
    *   Оптимизация производительности при обработке больших документов.
    *   Полная интеграция с системой задач **Task Master** с расширенными возможностями.

*   **Интеграция с моделями:**
    *   Расширение поддержки до 5-7 провайдеров.
    *   Улучшенная система управления API-ключами с шифрованием и контролем доступа.
    *   Умная маршрутизация запросов с учетом лимитов API и стоимости.
    *   Поддержка локальных моделей (например, через Ollama).

*   **UI-клиент:**
    *   Разработка веб-интерфейса для управления цепочками и мониторинга.
    *   Визуальный конструктор цепочек по принципу drag-and-drop.
    *   Интерактивная визуализация выполнения цепочек.
    *   Поддержка управления API-ключами через веб-интерфейс.

*   **MCP-интеграция (Расширенная):**
    *   Интерактивное конструирование цепочек непосредственно в редакторе кода.
    *   Контекстные подсказки при работе с различными частями цепочки.
    *   Богатая визуализация результатов выполнения.
    *   Полная интеграция возможностей **Task Master** для управления процессом разработки.
    *   **Визуализация структуры цепочек** с интерактивными диаграммами.
    *   **Мониторинг в реальном времени** с прогресс-барами и метриками.
    *   **Интеграция с системой задач** для привязки к частям кода и документам.
    *   **Расширенный набор MCP-команд** для управления всеми аспектами системы.
    *   **Панель отладки** для просмотра промежуточных результатов и чекпоинтов.

*   **Система управления задачами:**
    *   Полная адаптация структуры задач из **Task Master**.
    *   Расширенное отслеживание зависимостей между задачами.
    *   Система статусов и приоритетов для задач.
    *   Интеграция с системой чекпоинтов для сохранения контекста.
    *   Механизмы для автоматического разбиения больших задач на подзадачи.
    *   Интерактивная визуализация графа задач с отображением зависимостей.
    *   Аналитика по времени выполнения и используемым ресурсам.

*   **Мониторинг и аналитика:**
    *   Детальная система мониторинга выполнения цепочек и задач.
    *   Визуализация в реальном времени с интерактивными прогресс-барами.
    *   Статистика использования моделей (токены, время, стоимость).
    *   Инструменты для сравнительного анализа разных моделей.
    *   Система оповещений о завершении длительных процессов.
    *   Экспорт отчетов и метрик в различные форматы.
    *   Интеграция с внешними системами мониторинга.

*   **Монетизация (Beta):**
    *   Автоматизированная система учета использования ключей.
    *   Интеграция с платежными системами (например, Stripe) для автоматических выплат.
    *   Система рейтинга ключей и пользователей.
    *   Механизмы защиты от злоупотреблений.

*   **Безопасность и администрирование:**
    *   Расширенные механизмы аутентификации и авторизации.
    *   Аудит безопасности и логирование.
    *   Инструменты для администрирования системы.

### Ожидаемые результаты:

1.  Функциональная Beta-версия с поддержкой различных типов цепочек и расширенной интеграцией.
2.  Активное сообщество пользователей и разработчиков.
3.  Проверенная модель монетизации с первыми реальными выплатами.
4.  Расширенная обратная связь от пользователей для подготовки к версии 1.0.

## Этап 3: Версия 1.0 (6-8 месяцев после Beta) - ВЫПОЛНЕНО НА 45%

**Основная цель: Создание полнофункциональной, стабильной и масштабируемой платформы.**

На этом этапе мы фокусируемся на стабильности, производительности и масштабируемости системы, а также на расширении экосистемы и сообщества.

### Ключевые фичи:

*   **Оркестратор (Полный):**
    *   Поддержка **иерархических цепочек** с вложенными подцепочками.
    *   **Адаптивная маршрутизация** на основе анализа содержимого и контекста.
    *   Интеграция с механизмами **обучения с подкреплением** для оптимизации цепочек.
    *   Полная декомпозиция ядра на микросервисы для повышения масштабируемости.
    *   Расширенная библиотека ролей и шаблонов для различных предметных областей.
    *   Система метрик и аналитики для оценки эффективности цепочек.

*   **Интеграция с моделями:**
    *   Поддержка 10+ провайдеров, включая специализированные модели.
    *   Система **автоматического выбора модели** на основе задачи и бюджета.
    *   Механизмы **кэширования и оптимизации** для снижения стоимости запросов.
    *   Поддержка **fine-tuning** моделей для специфичных задач.

*   **UI-клиент (Расширенный):**
    *   Полнофункциональный веб-интерфейс с поддержкой мобильных устройств.
    *   Система шаблонов и библиотека готовых цепочек.
    *   Возможности совместной работы и обмена цепочками.
    *   Интеграция с популярными сервисами (Notion, GitHub, Slack и др.).

*   **MCP-интеграция (Полная):**
    *   Расширенная интеграция с дополнительными редакторами и IDE.
    *   Продвинутая визуализация и аналитика в редакторе.
    *   Система предложений и рекомендаций на основе AI.
    *   Полная интеграция всех возможностей платформы в редактор кода.

*   **Монетизация (Полная):**
    *   Децентрализованная система управления ключами и выплатами.
    *   Поддержка различных моделей ценообразования и подписок.
    *   Механизмы репутации и доверия.
    *   Возможность токенизации и интеграции с блокчейн-решениями.

*   **Экосистема и сообщество:**
    *   Открытый API для интеграции с другими сервисами.
    *   Маркетплейс шаблонов, плагинов и расширений.
    *   Программа для разработчиков и партнеров.
    *   Обучающие материалы, вебинары и конференции.

### Ожидаемые результаты:

1.  Стабильная, полнофункциональная и масштабируемая платформа.
2.  Активное и растущее сообщество пользователей и разработчиков.
3.  Устойчивая модель монетизации с регулярными выплатами.
4.  Экосистема интеграций, плагинов и расширений.

## Долгосрочные перспективы

*   **Интеграция с AGI-системами** для создания сложных многоагентных систем.
*   **Поддержка мультимодальных моделей** для обработки не только текста, но и изображений, аудио, видео.
*   **Специализированные решения** для различных отраслей (медицина, юриспруденция, наука).
*   **Распределенная инфраструктура** с поддержкой edge-computing для снижения латентности.
*   **Интеграция с IoT** и физическими системами для создания гибридных AI-решений. 

## Этапы разработки MVP

### Этап 1: Основа системы (2 недели) - ЗАВЕРШЕН
*   Настройка проекта и окружения (Модуль 1)
*   Базовое ядро оркестратора (часть Модуля 2)
*   Простая интеграция с одной моделью, например OpenAI (часть Модуля 3)

### Этап 2: Базовая функциональность (2 недели) - ЗАВЕРШЕН
*   Завершение ядра оркестратора (Модуль 2)
*   Расширение интеграции с моделями (Модуль 3)
*   Базовый CLI-клиент (часть Модуля 4)

### Этап 3: Расширенная функциональность (2 недели) - ВЫПОЛНЕНО НА 45%
*   Полный CLI-клиент (Модуль 4) ✅
*   База данных и хранение (Модуль 6) ⏳ (35%)
*   Базовая безопасность (часть Модуля 7) ✅
*   Интеграция с MCP (часть Модуля 5) ⏳ (45%)
*   Интерактивный выбор моделей (часть Модуля 3) ⏳ (60%)

### Этап 4: Интеграция и финализация (2 недели) - НЕ НАЧАТ
*   Завершение интеграции с MCP (Модуль 5)
*   Завершение безопасности и администрирования (Модуль 7)
*   Тестирование и документация (Модуль 8)
*   Требования к установке и запуску (Модуль 9) 